# INSTALLING-ACTIVE-DIRECTORY-IN-AZURE

THIS LAB DEMONSTRATES THE STEPS I TOOK TO INSTALL ACTIVE DIRECTORY USING AZURE. I WILL BE USING THIS AS THE FOUNDATION FOR THE LABS I WILL DO IN THE FUTURE. I WILL BE USING TWO VM'S ON AZURE THAT ARE ON THE SAME V-NET. THIS PARTICULAR LAB WILL FOCUS ON JUST ONE OF THE VM'S, WHICH WILL BE USED TO INSTALL (AD) AND CONFIGURED TO BE THE DOMAIN CONTROLLER. THE OTHER VM WILL BE USED AS A CLIENT THAT WILL JOIN LATER IN THE FUTURE LAB.

# ENVIROMENTS AND TECHNOLOGIES USED 
 -MICROSOFT AZURE (VIRTUAL MACHINES/COMPUTE)
 -REMOTE DESKTOP
 ACTIVE DIRECTORY DOMAIN SERVICES

# OPERATING SYSTEMS USED 
 -WINDOWS SERVER 2022
 -WINDOWS 10 PRO (21H2)

# INSTALLATION STEPS

![image](https://github.com/user-attachments/assets/b5bdbed5-c25d-4331-b889-59ec959d45fc)

BEFORE USING THE VM'S, ITS IMPORTANT TO SET THRE DOMAIN CONTROLLER VM'S IP ADRESSS AS STATIC. BY DEFAULT THE VM'S WILL NOT BE ABLE TO COMMUICATE WITH EACH OTHER IF BOTH HAVE DYNAMIC
IP'S DESPITE BEING ON THE SAME V-NET. IF WE DO NOT MAKE THE CHANGES, THE CLIENT WILL NOIT BE ABLE TO JOIN THE DOMAIN THAT WILL BE CREATED LATER. ON THE AZURE PORTAL CLICK ON NETWORKING
TAB ON THE DOMAIN CONTROLLER VM. CLICK ON THE NETWORK INTERFAVE AND OPEN THE IP CONFIGURATION TAB. TOGGLE THE ASSIGNMENT SWITCH TO BE STATIC AND SAVE YOUR CHANGES. WE ARE MAKING SURE
THE DC HAS A STATIC IP AND IT WILL BE USED AS A REFERNCE WHEN WE MAKE CONFIGURATIONS.

![image](https://github.com/user-attachments/assets/1d56258f-92d9-47cb-8299-ff8206bb87e5)

![image](https://github.com/user-attachments/assets/34e575bf-3c39-451e-a1a3-057d0274777b)

![image](https://github.com/user-attachments/assets/47e84ac3-864b-45ae-8257-55cbe815d62e)

AFTER SETTING THE STATIC IP, IT IS TIME TO LOG INTO THE CLIENT VM AND SEE IF THERE IS CONNECTIVITY TO THE DOMAIN CONTROLLER. USING PING -T (DOMAIN CONTROLLER PRIVATE IP), WILL SHOW THAT THE CONNECTION
IS BEING TIMED OUT. ON THE DOMAIN CONTROLLER VM, WE NEED ENABLE ICMPV4 ON THE LOCAL WINDOWS FIREWALL. WITHIN THE SEARCH BAR, RIGHT CLICK - HIT RUN  TYPE IN WF.MSC TO OPEN WINDOWS DEFENDER FIREWALL. CLCIK ON INBOUND RULES AND ENABLE THE CORE NETWORKING DIAGNOSTICS- ICMP ECHO REQUESTS RULES. RETURNING TO THE CLIENT VM WILL SHOW THAT THE PING IS NOW RESOLVING WITHOUT ERRORS.

![image](https://github.com/user-attachments/assets/42a89ef7-5ba9-466f-8e10-c8e90f1ab013)

![image](https://github.com/user-attachments/assets/d8a65be8-2fe3-4064-ab30-67afb5d7c43d)

IT IS NOW TIME TO INSTALL ACTIVE DIRECTORY ON THE DOMAIN CONTROLLER VM. WITH THE SERVER MANAGER OPEN, CLICK ON ADD ROLES AND FEATURES AND CLICK NEXT, CONFIRM THE DOMAIN CONTROLLER VM. IN THE SERVER ROLES TAB, CLICK ON ACTIVE DIRECTORY DOMAIN SERVICES. CLICK ADD FEATURES, CLICK NEXT, THEN INSTALL. NEXT WE HAV TO PROMOTE THE SERVER INTO A DOMAIN CONTROLLER. IN SERVER MANAGER, THERE IS A WARNING
SIGN IN THE TOP RIGHT CORNER UNDER THE FLAG. CLICK ON THE FLAG AND PROMOTE THIS SERVER TO A DOMAIN CONTROLLER. CLICK ON ADD A NEW FOREST AND SPECIFY A DOMAIN NAME. IN MY CASE, I WILL USE MYDOMAIN.COM
SPECIFY A PASSWORD FOR THE DOMAIN AND CLICK ON NEXT ON EACH SCREEN AND INSTALL. ***THE VM WILL RESTART ONCE INSTALLED****

![image](https://github.com/user-attachments/assets/74f0744b-b0fd-47eb-87a1-5e9c9923eb55)

WHEN LOGGING BACK INTO THE DOWMAIN CONTROLLER VM THROUGH REMOTE DESKTO CONNECTION, IT IS IMPORTANT TO LOG IN WITH THE CONTEXT OF THE DOMAIN FOR EXAMPLE I USED MYDOMAIN.COM ,
FOR EXAMPLE : MYDOMAIN.COM\LABUSER. NOW THAT ACTIVE DIRECTORY IS INSTALLED, CONFIGURATIONS CAN BE IMPLEMENTED IN FUTURE LABS AND THE CLIENT VM WILL BE ABLE TO JOIN THE DOMAIN THAT WAS 
CREATED.





























